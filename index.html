<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>가오슝 3박 4일 여행 계획</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            text-align: center;
            color: white;
            padding: 40px 20px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .trip-info {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .trip-info-item {
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        /* Main Content */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        /* Map Section */
        .map-section {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        #map {
            height: 500px;
            width: 100%;
        }

        .map-legend {
            padding: 15px;
            background: #f8f9fa;
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .legend-dot.attraction { background: #667eea; }
        .legend-dot.food { background: #f59e0b; }
        .legend-dot.night { background: #ec4899; }
        .legend-dot.airport { background: #10b981; }

        /* Schedule Section */
        .schedule-section {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        /* Day Tabs */
        .day-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
        }

        .day-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 1rem;
            font-weight: 600;
            color: #666;
            transition: all 0.3s;
        }

        .day-tab:hover {
            background: #e9ecef;
        }

        .day-tab.active {
            background: white;
            color: #667eea;
            border-bottom: 3px solid #667eea;
        }

        /* Timeline */
        .timeline-container {
            padding: 20px;
            max-height: 450px;
            overflow-y: auto;
        }

        .day-content {
            display: none;
        }

        .day-content.active {
            display: block;
        }

        .timeline-item {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 4px solid #667eea;
        }

        .timeline-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .timeline-item.food {
            border-left-color: #f59e0b;
        }

        .timeline-item.night {
            border-left-color: #ec4899;
        }

        .timeline-item.airport {
            border-left-color: #10b981;
            background: linear-gradient(90deg, #d1fae5 0%, #f8f9fa 100%);
        }

        .timeline-time {
            min-width: 60px;
            font-weight: 700;
            color: #667eea;
        }

        .timeline-item.food .timeline-time {
            color: #f59e0b;
        }

        .timeline-item.night .timeline-time {
            color: #ec4899;
        }

        .timeline-item.airport .timeline-time {
            color: #10b981;
        }

        /* Transport Transition */
        .timeline-transport {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 15px;
            margin: 5px 0 5px 30px;
            background: linear-gradient(90deg, #e0f2fe 0%, #f0f9ff 100%);
            border-radius: 20px;
            font-size: 0.8rem;
            color: #0369a1;
            border-left: 3px solid #0ea5e9;
        }

        .timeline-transport i {
            font-size: 1rem;
        }

        .timeline-transport .transport-detail {
            flex: 1;
        }

        .timeline-transport .transport-time {
            font-weight: 600;
            color: #0ea5e9;
            white-space: nowrap;
        }

        .timeline-content h4 {
            font-size: 1rem;
            margin-bottom: 5px;
            color: #333;
        }

        .timeline-content p {
            font-size: 0.85rem;
            color: #666;
            line-height: 1.5;
        }

        .timeline-content .tag {
            display: inline-block;
            padding: 2px 8px;
            background: #667eea20;
            color: #667eea;
            border-radius: 10px;
            font-size: 0.75rem;
            margin-top: 8px;
        }

        .timeline-content .tag.food {
            background: #f59e0b20;
            color: #f59e0b;
        }

        /* Restaurant Cards */
        .restaurant-section {
            margin-top: 20px;
            background: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .restaurant-section h2 {
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .restaurant-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
        }

        .restaurant-card {
            background: linear-gradient(135deg, #fff5e6 0%, #fff 100%);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #f59e0b30;
            transition: all 0.3s;
        }

        .restaurant-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.2);
        }

        .restaurant-card h4 {
            color: #f59e0b;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .restaurant-card .cuisine {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 10px;
        }

        .restaurant-card .menu {
            font-size: 0.9rem;
            color: #333;
        }

        .restaurant-card .tip {
            margin-top: 10px;
            font-size: 0.8rem;
            color: #888;
            font-style: italic;
        }

        /* Custom Marker */
        .custom-marker {
            background: #667eea;
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border: 3px solid white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .custom-marker.food {
            background: #f59e0b;
        }

        .custom-marker.night {
            background: #ec4899;
        }

        /* Popup Styling */
        .leaflet-popup-content-wrapper {
            border-radius: 12px;
        }

        .popup-content h3 {
            color: #667eea;
            margin-bottom: 8px;
        }

        .popup-content.food h3 {
            color: #f59e0b;
        }

        .popup-content p {
            margin: 5px 0;
            font-size: 0.9rem;
        }

        /* Transportation Section */
        .transport-section {
            margin-top: 20px;
            background: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .transport-section h2 {
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .transport-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .transport-card {
            background: linear-gradient(135deg, #e0f2fe 0%, #fff 100%);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #0ea5e930;
            transition: all 0.3s;
        }

        .transport-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(14, 165, 233, 0.2);
        }

        .transport-card.recommended {
            background: linear-gradient(135deg, #dcfce7 0%, #fff 100%);
            border: 2px solid #22c55e;
            position: relative;
        }

        .transport-card.recommended::before {
            content: "⭐ 추천";
            position: absolute;
            top: -10px;
            right: 15px;
            background: #22c55e;
            color: white;
            padding: 3px 10px;
            border-radius: 10px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .transport-card h4 {
            color: #0ea5e9;
            margin-bottom: 10px;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .transport-card.recommended h4 {
            color: #22c55e;
        }

        .transport-card .price {
            font-size: 0.85rem;
            color: #f59e0b;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .transport-card .desc {
            font-size: 0.9rem;
            color: #555;
            line-height: 1.5;
        }

        .transport-card .routes {
            margin-top: 10px;
            font-size: 0.85rem;
            color: #666;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 8px;
        }

        .transport-card .tip {
            margin-top: 10px;
            font-size: 0.8rem;
            color: #888;
            font-style: italic;
        }

        .transport-badge {
            display: inline-block;
            padding: 2px 8px;
            background: #0ea5e920;
            color: #0ea5e9;
            border-radius: 10px;
            font-size: 0.75rem;
            margin-right: 5px;
        }

        /* Route Info */
        .route-section {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
        }

        .route-section h3 {
            font-size: 1rem;
            color: #333;
            margin-bottom: 15px;
        }

        .route-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .route-from-to {
            flex: 1;
            font-size: 0.9rem;
        }

        .route-method {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #0ea5e9;
            font-weight: 600;
            font-size: 0.85rem;
        }

        .route-time {
            color: #666;
            font-size: 0.85rem;
        }

        /* Packing List */
        .packing-section {
            margin-top: 20px;
            background: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .packing-section h2 {
            color: #333;
            margin-bottom: 20px;
        }

        .packing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .packing-category h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 0.95rem;
        }

        .packing-category ul {
            list-style: none;
        }

        .packing-category li {
            padding: 8px 0;
            font-size: 0.9rem;
            color: #555;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .packing-category li:hover {
            color: #667eea;
        }

        .packing-category li input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #667eea;
            cursor: pointer;
        }

        .packing-category li.checked {
            color: #aaa;
            text-decoration: line-through;
        }

        .packing-category li.checked label {
            color: #aaa;
        }

        .packing-category label {
            cursor: pointer;
            flex: 1;
        }

        /* Scrollbar */
        .timeline-container::-webkit-scrollbar {
            width: 6px;
        }

        .timeline-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        .timeline-container::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 3px;
        }

        /* ==================== */
        /* Bottom Navigation */
        /* ==================== */
        .bottom-nav {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.15);
            z-index: 1000;
            padding: 8px 0;
            padding-bottom: max(8px, env(safe-area-inset-bottom));
        }

        .bottom-nav .nav-items {
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            background: none;
            border: none;
            padding: 8px 12px;
            cursor: pointer;
            color: #888;
            font-size: 0.7rem;
            transition: all 0.2s;
            border-radius: 12px;
        }

        .nav-item .nav-icon {
            font-size: 1.3rem;
        }

        .nav-item.active {
            color: #667eea;
            background: #667eea15;
        }

        .nav-item:hover {
            color: #667eea;
        }

        /* Page System */
        .page {
            display: block;
        }

        /* Budget Section */
        .budget-section {
            margin-top: 20px;
            background: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .budget-section h2 {
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .budget-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .budget-toggle {
            display: flex;
            gap: 5px;
        }

        .budget-toggle button {
            padding: 8px 16px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .budget-toggle button.active {
            background: #667eea;
            color: white;
        }

        .budget-total {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 16px;
            text-align: center;
            margin-bottom: 25px;
        }

        .budget-total .total-amount {
            font-size: 2.5rem;
            font-weight: 700;
        }

        .budget-total .total-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-top: 5px;
        }

        .budget-total .exchange-rate {
            font-size: 0.8rem;
            opacity: 0.7;
            margin-top: 10px;
        }

        .budget-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
        }

        .budget-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 12px;
            transition: all 0.2s;
        }

        .budget-item:hover {
            background: #f0f0f0;
        }

        .budget-item .item-icon {
            font-size: 1.5rem;
            width: 40px;
            text-align: center;
        }

        .budget-item .item-info {
            flex: 1;
        }

        .budget-item .item-name {
            font-weight: 600;
            color: #333;
        }

        .budget-item .item-note {
            font-size: 0.8rem;
            color: #888;
        }

        .budget-item .item-amount {
            text-align: right;
        }

        .budget-item .item-krw {
            font-weight: 700;
            color: #667eea;
        }

        .budget-item .item-ntd {
            font-size: 0.8rem;
            color: #888;
        }

        .budget-item .item-bar {
            width: 100%;
            height: 4px;
            background: #e0e0e0;
            border-radius: 2px;
            margin-top: 8px;
            overflow: hidden;
        }

        .budget-item .item-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 2px;
        }

        /* ==================== */
        /* Mobile Styles */
        /* ==================== */
        @media (max-width: 768px) {
            /* Show bottom nav */
            .bottom-nav {
                display: block;
            }

            .container {
                padding-bottom: 90px;
            }

            /* Header */
            .header {
                padding: 20px 15px;
            }

            .header h1 {
                font-size: 1.5rem;
            }

            .header p {
                font-size: 1rem;
            }

            .trip-info {
                gap: 8px;
            }

            .trip-info-item {
                padding: 6px 12px;
                font-size: 0.75rem;
            }

            /* Flight cards - stack vertically */
            .header > div:last-child {
                flex-direction: column;
                gap: 10px;
            }

            .header > div:last-child > div {
                width: 100%;
            }

            /* Map */
            #map {
                height: 280px;
            }

            .map-legend {
                padding: 10px;
                gap: 12px;
            }

            .legend-item {
                font-size: 0.8rem;
            }

            /* Main content */
            .main-content {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            /* Schedule */
            .day-tab {
                padding: 10px 5px;
                font-size: 0.85rem;
            }

            .day-tab small {
                font-size: 0.65rem;
            }

            .timeline-container {
                max-height: none;
                padding: 15px;
            }

            .timeline-item {
                padding: 12px;
                gap: 10px;
            }

            .timeline-time {
                min-width: 50px;
                font-size: 0.9rem;
            }

            .timeline-content h4 {
                font-size: 0.95rem;
            }

            .timeline-content p {
                font-size: 0.8rem;
            }

            .timeline-transport {
                margin-left: 20px;
                padding: 6px 12px;
                font-size: 0.75rem;
            }

            /* Restaurant */
            .restaurant-section {
                padding: 20px 15px;
            }

            .restaurant-section h2 {
                font-size: 1.1rem;
            }

            .restaurant-grid {
                grid-template-columns: 1fr;
            }

            /* Transport */
            .transport-section {
                padding: 20px 15px;
            }

            .transport-grid {
                grid-template-columns: 1fr;
            }

            .route-item {
                flex-direction: column;
                gap: 8px;
                align-items: flex-start;
            }

            /* Budget */
            .budget-section {
                padding: 20px 15px;
            }

            .budget-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }

            .budget-total .total-amount {
                font-size: 2rem;
            }

            .budget-items {
                grid-template-columns: 1fr;
            }

            /* Packing */
            .packing-section {
                padding: 20px 15px;
            }

            .packing-grid {
                grid-template-columns: 1fr 1fr;
                gap: 15px;
            }

            .packing-category h4 {
                font-size: 0.85rem;
            }

            .packing-category li {
                font-size: 0.8rem;
                padding: 6px 0;
            }

            /* Page system for mobile */
            .page {
                display: none;
            }

            .page.active {
                display: block;
            }

            /* Schedule page: map + timeline stacked */
            #page-schedule .map-section {
                border-radius: 12px;
                margin-bottom: 15px;
            }

            #page-schedule #map {
                height: 35vh;
                min-height: 200px;
            }

            #page-schedule .schedule-section {
                border-radius: 12px;
            }

            #page-schedule .timeline-container {
                max-height: 45vh;
            }

            /* Mini header for non-home pages */
            .page-title {
                display: none;
            }

            .page:not(#page-home) .page-title {
                display: block;
                background: white;
                color: #333;
                padding: 15px 20px;
                margin: -20px -15px 15px -15px;
                border-radius: 0 0 16px 16px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }

            .page-title h3 {
                font-size: 1.1rem;
                margin: 0;
                font-weight: 700;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Home Page: Header + Flight Info -->
        <div class="page active" id="page-home">
        <div class="header">
            <h1>🇹🇼 가오슝 3박 4일</h1>
            <p>여유로운 대만 남부 힐링 여행</p>
            <div class="trip-info">
                <div class="trip-info-item">
                    <i class="fas fa-calendar"></i> 2026.3.13(금) ~ 3.16(월)
                </div>
                <div class="trip-info-item">
                    <i class="fas fa-thermometer-half"></i> 23-28°C
                </div>
            </div>

            <!-- Flight Info Cards -->
            <div style="display: flex; gap: 15px; justify-content: center; margin-top: 20px; flex-wrap: wrap;">
                <div style="background: rgba(255,255,255,0.95); padding: 15px 25px; border-radius: 12px; color: #333; text-align: left;">
                    <div style="font-weight: 700; color: #667eea; margin-bottom: 8px;"><i class="fas fa-plane-departure"></i> 가는편 · 3월 13일 (금)</div>
                    <div style="font-size: 1.1rem; font-weight: 600;">🛫 10:50 김포(GMP) → 13:05 가오슝(KHH)</div>
                    <div style="font-size: 0.85rem; color: #666; margin-top: 5px;">티웨이항공 TW651 · 직항 3시간 15분</div>
                </div>
                <div style="background: rgba(255,255,255,0.95); padding: 15px 25px; border-radius: 12px; color: #333; text-align: left;">
                    <div style="font-weight: 700; color: #ec4899; margin-bottom: 8px;"><i class="fas fa-plane-arrival"></i> 오는편 · 3월 16일 (월)</div>
                    <div style="font-size: 1.1rem; font-weight: 600;">🛬 14:05 가오슝(KHH) → 17:55 김포(GMP)</div>
                    <div style="font-size: 0.85rem; color: #666; margin-top: 5px;">티웨이항공 TW652 · 직항 2시간 50분</div>
                </div>
            </div>
        </div>
        </div><!-- End page-home -->

        <!-- Schedule Page: Map + Timeline -->
        <div class="page" id="page-schedule">
            <div class="page-title"><h3>📅 일정 · 3/13(금)~3/16(월)</h3></div>
            <!-- Map Section -->
            <div class="map-section">
                <div id="map"></div>
                <div class="map-legend">
                    <div class="legend-item">
                        <div class="legend-dot airport"></div>
                        <span>공항</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot attraction"></div>
                        <span>관광지</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot food"></div>
                        <span>맛집</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot night"></div>
                        <span>야시장/야경</span>
                    </div>
                </div>
            </div>

            <!-- Schedule Section -->
            <div class="schedule-section">
                <div class="day-tabs">
                    <button class="day-tab active" data-day="1">Day 1<br><small>3/13(금) 도착</small></button>
                    <button class="day-tab" data-day="2">Day 2<br><small>3/14(토) 호수</small></button>
                    <button class="day-tab" data-day="3">Day 3<br><small>3/15(일) 치진섬</small></button>
                    <button class="day-tab" data-day="4">Day 4<br><small>3/16(월) 출발</small></button>
                </div>

                <div class="timeline-container">
                    <!-- Day 1 - 3월 13일 (금) -->
                    <div class="day-content active" data-day="1">
                        <div class="timeline-item airport" data-lat="22.5726" data-lng="120.3390">
                            <div class="timeline-time">13:05</div>
                            <div class="timeline-content">
                                <h4>✈️ 가오슝 국제공항 도착</h4>
                                <p>TW651 김포→가오슝 도착<br>입국 심사 & 수하물 수령 (약 30분)</p>
                                <span class="tag">도착</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-train"></i>
                            <div class="transport-detail">MRT 레드라인 → 메이리다오역(美麗島站)</div>
                            <div class="transport-time">🕐 25분 · NT$60</div>
                        </div>
                        <div class="timeline-item" data-lat="22.6273" data-lng="120.3014">
                            <div class="timeline-time">14:30</div>
                            <div class="timeline-content">
                                <h4>🏨 호텔 체크인</h4>
                                <p>MRT 메이리다오역(美麗島站) 근처 추천<br>짐 맡기고 가볍게 출발!</p>
                                <span class="tag">휴식</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-walking"></i>
                            <div class="transport-detail">도보 이동</div>
                            <div class="transport-time">🕐 10분</div>
                        </div>
                        <div class="timeline-item food" data-lat="22.6320" data-lng="120.2940">
                            <div class="timeline-time">15:00</div>
                            <div class="timeline-content">
                                <h4>🍜 興隆居 (싱롱쥐)</h4>
                                <p>전통 딤섬 & 찐빵으로 늦은 점심<br>추천: 샤오롱바오, 단빙(달걀빙)</p>
                                <span class="tag food">맛집</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-walking"></i>
                            <div class="transport-detail">도보로 호텔 복귀</div>
                            <div class="transport-time">🕐 10분</div>
                        </div>
                        <div class="timeline-item" data-lat="22.6273" data-lng="120.3014">
                            <div class="timeline-time">16:30</div>
                            <div class="timeline-content">
                                <h4>😴 호텔 휴식</h4>
                                <p>첫날은 무리하지 않기! 낮잠 또는 호텔 주변 산책</p>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-walking"></i>
                            <div class="transport-detail">도보 이동 (옌청구/鹽埕區 방향)</div>
                            <div class="transport-time">🕐 15분</div>
                        </div>
                        <div class="timeline-item food" data-lat="22.6145" data-lng="120.2986">
                            <div class="timeline-time">18:00</div>
                            <div class="timeline-content">
                                <h4>🧋 老江紅茶牛奶 (라오장)</h4>
                                <p>가오슝 명물 밀크티! 1949년부터 영업<br>추천: 홍차우유, 토스트</p>
                                <span class="tag food">맛집</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-walking"></i>
                            <div class="transport-detail">도보로 류허야시장</div>
                            <div class="transport-time">🕐 5분</div>
                        </div>
                        <div class="timeline-item night" data-lat="22.6108" data-lng="120.2983">
                            <div class="timeline-time">19:00</div>
                            <div class="timeline-content">
                                <h4>🌙 六合夜市 (류허야시장)</h4>
                                <p>가볍게 야시장 구경 & 저녁<br>추천: 파파야우유, 해산물꼬치, 관차이반</p>
                                <span class="tag food">야시장</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-walking"></i>
                            <div class="transport-detail">도보로 호텔 복귀</div>
                            <div class="transport-time">🕐 10분</div>
                        </div>
                    </div>

                    <!-- Day 2 - 3월 14일 (토) -->
                    <div class="day-content" data-day="2">
                        <div class="timeline-item food" data-lat="22.6352" data-lng="120.2865">
                            <div class="timeline-time">09:30</div>
                            <div class="timeline-content">
                                <h4>🥟 楊寶寶蒸餃 (양바오바오)</h4>
                                <p>현지인 찐맛집! 아침부터 줄 서는 곳<br>추천: 찐만두 10개 + 완탕탕</p>
                                <span class="tag food">맛집</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-train"></i>
                            <div class="transport-detail">MRT 레드→오렌지 환승 메이리다오역(美麗島站)</div>
                            <div class="transport-time">🕐 20분 · NT$35</div>
                        </div>
                        <div class="timeline-item" data-lat="22.6469" data-lng="120.2928">
                            <div class="timeline-time">11:00</div>
                            <div class="timeline-content">
                                <h4>🐉 蓮池潭 (롄츠탄/연지담)</h4>
                                <p>용호탑, 춘추각 구경 + 호수 산책<br>여유롭게 2-3시간 둘러보기</p>
                                <span class="tag">관광</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-walking"></i>
                            <div class="transport-detail">호수 주변 도보</div>
                            <div class="transport-time">🕐 5분</div>
                        </div>
                        <div class="timeline-item food" data-lat="22.6480" data-lng="120.2950">
                            <div class="timeline-time">13:30</div>
                            <div class="timeline-content">
                                <h4>🍲 연지담 근처 현지식당</h4>
                                <p>우어탕(생선묵국), 미펀(쌀국수) 점심</p>
                                <span class="tag food">맛집</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-train"></i>
                            <div class="transport-detail">MRT 오렌지→레드 환승 → 메이리다오역(美麗島站)</div>
                            <div class="transport-time">🕐 25분 · NT$35</div>
                        </div>
                        <div class="timeline-item" data-lat="22.6273" data-lng="120.3014">
                            <div class="timeline-time">15:00</div>
                            <div class="timeline-content">
                                <h4>☕ 호텔 복귀 & 휴식</h4>
                                <p>낮잠 or 카페에서 여유롭게</p>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-tram"></i>
                            <div class="transport-detail">경전철(輕軌) → 다펑역(大公站)</div>
                            <div class="transport-time">🕐 15분 · NT$30</div>
                        </div>
                        <div class="timeline-item night" data-lat="22.6120" data-lng="120.2860">
                            <div class="timeline-time">18:00</div>
                            <div class="timeline-content">
                                <h4>🌆 駁二藝術特區 (보얼예술특구)</h4>
                                <p>옛 창고를 개조한 예술 단지, 벽화 거리<br>석양 시간에 방문 추천</p>
                                <span class="tag">관광</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-tram"></i>
                            <div class="transport-detail">경전철(輕軌) → 중앙공원역(中央公園站)</div>
                            <div class="transport-time">🕐 10분 · NT$30</div>
                        </div>
                        <div class="timeline-item night" data-lat="22.6137" data-lng="120.2875">
                            <div class="timeline-time">19:30</div>
                            <div class="timeline-content">
                                <h4>✨ 포르모사 대로(光之穹頂) 야경</h4>
                                <p>중앙공원역(中央公園站)~메이리다오역(美麗島站) 야경 산책<br>세계에서 가장 아름다운 지하철역!</p>
                                <span class="tag">야경</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-walking"></i>
                            <div class="transport-detail">도보 (옌청구/鹽埕區 방향)</div>
                            <div class="transport-time">🕐 10분</div>
                        </div>
                        <div class="timeline-item food" data-lat="22.6100" data-lng="120.2980">
                            <div class="timeline-time">20:30</div>
                            <div class="timeline-content">
                                <h4>🦐 鹽埕區(옌청구) 해산물 식당</h4>
                                <p>싱싱한 해산물로 저녁 식사<br>새우볶음밥, 조개탕 추천</p>
                                <span class="tag food">맛집</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-walking"></i>
                            <div class="transport-detail">도보로 호텔 복귀</div>
                            <div class="transport-time">🕐 15분</div>
                        </div>
                    </div>

                    <!-- Day 3 - 3월 15일 (일) -->
                    <div class="day-content" data-day="3">
                        <div class="timeline-item food" data-lat="22.6200" data-lng="120.2850">
                            <div class="timeline-time">09:00</div>
                            <div class="timeline-content">
                                <h4>🦆 鴨肉珍 (야로우젠)</h4>
                                <p>오리고기 국수/덮밥 아침<br>50년 전통 현지인 맛집</p>
                                <span class="tag food">맛집</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-train"></i>
                            <div class="transport-detail">MRT 레드라인 → 구산역(鼓山站) 1번출구</div>
                            <div class="transport-time">🕐 15분 · NT$30</div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-ship"></i>
                            <div class="transport-detail">구산 페리터미널(鼓山輪渡站) → 치진섬(旗津)</div>
                            <div class="transport-time">🕐 10분 · NT$40</div>
                        </div>
                        <div class="timeline-item" data-lat="22.6145" data-lng="120.2650">
                            <div class="timeline-time">10:30</div>
                            <div class="timeline-content">
                                <h4>⛴️ 치진섬 도착!</h4>
                                <p>페리터미널에서 YouBike 대여 추천</p>
                                <span class="tag">관광</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-bicycle"></i>
                            <div class="transport-detail">YouBike로 섬 일주</div>
                            <div class="transport-time">🕐 자유 · NT$10/30분</div>
                        </div>
                        <div class="timeline-item" data-lat="22.6120" data-lng="120.2630">
                            <div class="timeline-time">11:00</div>
                            <div class="timeline-content">
                                <h4>🏝️ 치진섬 산책</h4>
                                <p>등대, 해변, 천후궁 여유롭게 구경</p>
                                <span class="tag">관광</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-bicycle"></i>
                            <div class="transport-detail">자전거로 해산물 거리 이동</div>
                            <div class="transport-time">🕐 5분</div>
                        </div>
                        <div class="timeline-item food" data-lat="22.6130" data-lng="120.2640">
                            <div class="timeline-time">12:30</div>
                            <div class="timeline-content">
                                <h4>🦞 치진 해산물 거리</h4>
                                <p>싱싱한 해산물 점심! 가격 흥정 필수<br>새우, 조개, 생선구이 추천</p>
                                <span class="tag food">맛집</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-bicycle"></i>
                            <div class="transport-detail">해변 방향으로 이동</div>
                            <div class="transport-time">🕐 5분</div>
                        </div>
                        <div class="timeline-item" data-lat="22.6200" data-lng="120.2600">
                            <div class="timeline-time">14:30</div>
                            <div class="timeline-content">
                                <h4>🌊 치진 해변 산책</h4>
                                <p>바다 보며 여유롭게 커피 한 잔</p>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-ship"></i>
                            <div class="transport-detail">페리로 구산(鼓山) 복귀 → 도보로 시즈완(西子灣)</div>
                            <div class="transport-time">🕐 20분 · NT$40</div>
                        </div>
                        <div class="timeline-item" data-lat="22.6245" data-lng="120.2656">
                            <div class="timeline-time">16:30</div>
                            <div class="timeline-content">
                                <h4>🏛️ 西子灣 (시즈완)</h4>
                                <p>영국 영사관(打狗英國領事館) 유적, 언덕에서 석양 보기<br>가오슝 최고의 석양 명소!</p>
                                <span class="tag">관광</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-taxi"></i>
                            <div class="transport-detail">택시 or Uber → 루이펑야시장(瑞豐夜市)</div>
                            <div class="transport-time">🕐 20분 · NT$200</div>
                        </div>
                        <div class="timeline-item night" data-lat="22.6700" data-lng="120.2860">
                            <div class="timeline-time">19:00</div>
                            <div class="timeline-content">
                                <h4>🎪 瑞豐夜市 (루이펑야시장)</h4>
                                <p>현지인이 더 많이 가는 야시장!<br>류허(六合)보다 저렴하고 다양함</p>
                                <span class="tag food">야시장</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-walking"></i>
                            <div class="transport-detail">야시장 내 도보</div>
                            <div class="transport-time">🕐 5분</div>
                        </div>
                        <div class="timeline-item food" data-lat="22.6700" data-lng="120.2860">
                            <div class="timeline-time">20:00</div>
                            <div class="timeline-content">
                                <h4>🍧 빙과점 망고빙수</h4>
                                <p>대만 남부 망고는 진짜 다름!<br>마무리 디저트로 딱</p>
                                <span class="tag food">디저트</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-taxi"></i>
                            <div class="transport-detail">택시로 호텔 복귀</div>
                            <div class="transport-time">🕐 15분 · NT$150</div>
                        </div>
                    </div>

                    <!-- Day 4 - 3월 16일 (월) -->
                    <div class="day-content" data-day="4">
                        <div class="timeline-item food" data-lat="22.6320" data-lng="120.2940">
                            <div class="timeline-time">08:30</div>
                            <div class="timeline-content">
                                <h4>🥐 호텔 조식 or 근처 브런치</h4>
                                <p>여유롭게 마지막 아침</p>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-walking"></i>
                            <div class="transport-detail">도보로 쇼핑 거리</div>
                            <div class="transport-time">🕐 10분</div>
                        </div>
                        <div class="timeline-item" data-lat="22.6273" data-lng="120.3014">
                            <div class="timeline-time">09:30</div>
                            <div class="timeline-content">
                                <h4>🛍️ 마지막 쇼핑</h4>
                                <p>신쿠장(新堀江) 상권 or 한신백화점<br>펑리수, 누가크래커 선물 구매</p>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-walking"></i>
                            <div class="transport-detail">도보 이동</div>
                            <div class="transport-time">🕐 5분</div>
                        </div>
                        <div class="timeline-item food" data-lat="22.6150" data-lng="120.2980">
                            <div class="timeline-time">10:30</div>
                            <div class="timeline-content">
                                <h4>🍜 단짜이미엔 (擔仔麵)</h4>
                                <p>가오슝 마지막 식사는 담백한 국수로<br>度小月(두샤오웨) 추천</p>
                                <span class="tag food">맛집</span>
                            </div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-walking"></i>
                            <div class="transport-detail">호텔 복귀 → 체크아웃 & 짐 챙기기</div>
                            <div class="transport-time">🕐 30분</div>
                        </div>
                        <div class="timeline-transport">
                            <i class="fas fa-train"></i>
                            <div class="transport-detail">MRT 레드라인 → 가오슝국제공항역(高雄國際機場站)</div>
                            <div class="transport-time">🕐 25분 · NT$60</div>
                        </div>
                        <div class="timeline-item airport" data-lat="22.5726" data-lng="120.3390">
                            <div class="timeline-time">12:00</div>
                            <div class="timeline-content">
                                <h4>✈️ 공항 도착</h4>
                                <p>체크인 & 출국심사 & 면세점 구경<br>⚠️ 출발 2시간 전 도착!</p>
                            </div>
                        </div>
                        <div class="timeline-item airport" data-lat="22.5726" data-lng="120.3390">
                            <div class="timeline-time">14:05</div>
                            <div class="timeline-content">
                                <h4>🛫 가오슝 출발</h4>
                                <p>TW652 가오슝→김포<br>17:55 김포 도착 예정. 再見 가오슝!</p>
                                <span class="tag">출발</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div><!-- End page-schedule -->

        <!-- Food Page (Restaurant + Transport) -->
        <div class="page" id="page-food">
            <div class="page-title"><h3>🍜 맛집 & 교통</h3></div>
        <!-- Restaurant Section -->
        <div class="restaurant-section">
            <h2><i class="fas fa-utensils" style="color: #f59e0b;"></i> 가오슝 필수 맛집 리스트</h2>
            <div class="restaurant-grid">
                <div class="restaurant-card">
                    <h4>興隆居 (싱롱쥐)</h4>
                    <div class="cuisine">전통 딤섬 / 조식</div>
                    <div class="menu">🥟 샤오롱바오, 단빙, 찐빵</div>
                    <div class="tip">💡 아침 일찍 가면 줄이 짧아요</div>
                </div>
                <div class="restaurant-card">
                    <h4>老江紅茶牛奶</h4>
                    <div class="cuisine">밀크티 전문 / 1949년~</div>
                    <div class="menu">🧋 홍차우유, 토스트</div>
                    <div class="tip">💡 가오슝 밀크티 원조!</div>
                </div>
                <div class="restaurant-card">
                    <h4>楊寶寶蒸餃</h4>
                    <div class="cuisine">찐만두 전문</div>
                    <div class="menu">🥟 찐만두 10개 + 완탕탕</div>
                    <div class="tip">💡 현지인 줄서는 찐맛집</div>
                </div>
                <div class="restaurant-card">
                    <h4>鴨肉珍 (야로우젠)</h4>
                    <div class="cuisine">오리요리 / 50년 전통</div>
                    <div class="menu">🦆 오리국수, 오리덮밥</div>
                    <div class="tip">💡 점심시간 피크 피하기</div>
                </div>
                <div class="restaurant-card">
                    <h4>旗津 해산물거리</h4>
                    <div class="cuisine">해산물 / 치진섬</div>
                    <div class="menu">🦐 새우, 조개, 생선구이</div>
                    <div class="tip">💡 가격 흥정 필수! 현금 준비</div>
                </div>
                <div class="restaurant-card">
                    <h4>度小月 (두샤오웨)</h4>
                    <div class="cuisine">단짜이미엔 원조</div>
                    <div class="menu">🍜 담백한 국수, 루러우판</div>
                    <div class="tip">💡 대만 전역 체인이지만 맛있음</div>
                </div>
            </div>
        </div>

        <!-- Transportation Section -->
        <div class="transport-section">
            <h2><i class="fas fa-subway" style="color: #0ea5e9;"></i> 가오슝 교통 가이드</h2>
            <div class="transport-grid">
                <div class="transport-card recommended">
                    <h4><i class="fas fa-train"></i> MRT (지하철)</h4>
                    <div class="price">💰 1회권 NT$20-65 / 1일권 NT$180</div>
                    <div class="desc">
                        가오슝 여행의 핵심 교통수단!<br>
                        레드라인 & 오렌지라인 2개 노선
                    </div>
                    <div class="routes">
                        <strong>주요 역:</strong><br>
                        🔴 공항 → 메이리다오 → 시즈완<br>
                        🟠 메이리다오 → 연지담 → 삼봉궁
                    </div>
                    <div class="tip">💡 이지카드(悠遊卡) 구매 추천! 편의점에서 충전 가능</div>
                </div>

                <div class="transport-card recommended">
                    <h4><i class="fas fa-tram"></i> 경전철 (Light Rail)</h4>
                    <div class="price">💰 1회 NT$30 / 이지카드 사용가능</div>
                    <div class="desc">
                        항구 주변 순환 노선<br>
                        보얼예술특구, 시즈완 구간 편리
                    </div>
                    <div class="routes">
                        🚃 시즈완 ↔ 보얼예술특구 ↔ 포르모사대로
                    </div>
                    <div class="tip">💡 바다 보며 이동, 야경 시간대 추천!</div>
                </div>

                <div class="transport-card">
                    <h4><i class="fas fa-ship"></i> 페리 (Ferry)</h4>
                    <div class="price">💰 편도 NT$40 (약 1,700원)</div>
                    <div class="desc">
                        치진섬 가는 유일한 방법!<br>
                        구산 페리터미널 → 치진섬 (10분)
                    </div>
                    <div class="routes">
                        ⛴️ 구산역 1번출구 → 도보 5분 → 페리터미널
                    </div>
                    <div class="tip">💡 이지카드로 탑승 가능, 배 안에서 바다 사진 찍기!</div>
                </div>

                <div class="transport-card">
                    <h4><i class="fas fa-bicycle"></i> YouBike (공유자전거)</h4>
                    <div class="price">💰 30분 NT$10 (약 420원)</div>
                    <div class="desc">
                        치진섬, 연지담 주변 산책에 최고!<br>
                        앱 등록 필요 (신용카드)
                    </div>
                    <div class="routes">
                        🚲 치진섬 일주 / 연지담 호수길 추천
                    </div>
                    <div class="tip">💡 치진섬은 자전거가 도보보다 훨씬 편함!</div>
                </div>

                <div class="transport-card">
                    <h4><i class="fas fa-taxi"></i> 택시 / Uber</h4>
                    <div class="price">💰 기본 NT$85 + 거리당 추가</div>
                    <div class="desc">
                        야간/짐 많을 때 유용<br>
                        Uber 앱 사용 가능
                    </div>
                    <div class="routes">
                        🚕 공항 → 시내 약 NT$350-400
                    </div>
                    <div class="tip">💡 호텔에서 택시 불러달라고 하면 편함</div>
                </div>

                <div class="transport-card">
                    <h4><i class="fas fa-bus"></i> 시내버스</h4>
                    <div class="price">💰 1회 NT$12-48</div>
                    <div class="desc">
                        MRT 안 닿는 곳 갈 때<br>
                        루이펑야시장 등
                    </div>
                    <div class="routes">
                        🚌 구글맵으로 버스 노선 검색 추천
                    </div>
                    <div class="tip">💡 MRT로 대부분 커버 가능해서 자주 안 씀</div>
                </div>
            </div>

            <!-- Recommended Routes -->
            <div class="route-section">
                <h3>📍 일정별 추천 이동 경로</h3>

                <div class="route-item">
                    <div class="route-from-to">
                        <strong>공항 → 호텔 (메이리다오역)</strong>
                    </div>
                    <div class="route-method">
                        <i class="fas fa-train"></i> MRT 레드라인
                    </div>
                    <div class="route-time">⏱️ 25분, NT$60</div>
                </div>

                <div class="route-item">
                    <div class="route-from-to">
                        <strong>메이리다오 → 연지담</strong>
                    </div>
                    <div class="route-method">
                        <i class="fas fa-train"></i> MRT 레드→오렌지 환승
                    </div>
                    <div class="route-time">⏱️ 20분, NT$35</div>
                </div>

                <div class="route-item">
                    <div class="route-from-to">
                        <strong>메이리다오 → 치진섬</strong>
                    </div>
                    <div class="route-method">
                        <i class="fas fa-train"></i> MRT + <i class="fas fa-ship"></i> 페리
                    </div>
                    <div class="route-time">⏱️ 35분, NT$75</div>
                </div>

                <div class="route-item">
                    <div class="route-from-to">
                        <strong>치진섬 → 시즈완</strong>
                    </div>
                    <div class="route-method">
                        <i class="fas fa-ship"></i> 페리 + <i class="fas fa-walking"></i> 도보
                    </div>
                    <div class="route-time">⏱️ 20분, NT$40</div>
                </div>

                <div class="route-item">
                    <div class="route-from-to">
                        <strong>시즈완 → 보얼예술특구 → 포르모사대로</strong>
                    </div>
                    <div class="route-method">
                        <i class="fas fa-tram"></i> 경전철
                    </div>
                    <div class="route-time">⏱️ 15분, NT$30</div>
                </div>

                <div class="route-item">
                    <div class="route-from-to">
                        <strong>메이리다오 → 루이펑야시장</strong>
                    </div>
                    <div class="route-method">
                        <i class="fas fa-taxi"></i> 택시/Uber
                    </div>
                    <div class="route-time">⏱️ 10분, NT$120</div>
                </div>
            </div>
        </div>
        </div><!-- End page-food -->

        <!-- Budget Page -->
        <div class="page" id="page-budget">
            <div class="page-title"><h3>💰 예산 계획</h3></div>
        <!-- Budget Section -->
        <div class="budget-section" id="budget-section">
            <div class="budget-header">
                <h2><i class="fas fa-wallet" style="color: #667eea;"></i> 예산 계획</h2>
                <div class="budget-toggle">
                    <button class="active" data-travelers="2">2인</button>
                    <button data-travelers="1">1인</button>
                </div>
            </div>
            <div class="budget-total">
                <div class="total-amount" id="total-amount">₩1,447,000</div>
                <div class="total-label" id="total-label">2인 총 예상 비용</div>
                <div class="exchange-rate">환율: 1 TWD ≈ 42 KRW</div>
            </div>
            <div class="budget-items" id="budget-items">
                <div class="budget-item" data-krw2="800000" data-krw1="400000">
                    <div class="item-icon">✈️</div>
                    <div class="item-info">
                        <div class="item-name">항공권</div>
                        <div class="item-note">왕복 직항</div>
                    </div>
                    <div class="item-amount">
                        <div class="item-krw">₩800,000</div>
                        <div class="item-ntd">1인 ₩400,000</div>
                    </div>
                </div>
                <div class="budget-item" data-krw2="252000" data-krw1="126000" data-ntd="6000">
                    <div class="item-icon">🏨</div>
                    <div class="item-info">
                        <div class="item-name">숙박 (3박)</div>
                        <div class="item-note">3성급+ 호텔</div>
                    </div>
                    <div class="item-amount">
                        <div class="item-krw">₩252,000</div>
                        <div class="item-ntd">NT$6,000</div>
                    </div>
                </div>
                <div class="budget-item" data-krw2="42000" data-krw1="21000" data-ntd="1000">
                    <div class="item-icon">🚇</div>
                    <div class="item-info">
                        <div class="item-name">교통비</div>
                        <div class="item-note">MRT, 페리, 택시</div>
                    </div>
                    <div class="item-amount">
                        <div class="item-krw">₩42,000</div>
                        <div class="item-ntd">NT$1,000</div>
                    </div>
                </div>
                <div class="budget-item" data-krw2="168000" data-krw1="84000" data-ntd="4000">
                    <div class="item-icon">🍜</div>
                    <div class="item-info">
                        <div class="item-name">식비 (4일)</div>
                        <div class="item-note">1인 1일 NT$500</div>
                    </div>
                    <div class="item-amount">
                        <div class="item-krw">₩168,000</div>
                        <div class="item-ntd">NT$4,000</div>
                    </div>
                </div>
                <div class="budget-item" data-krw2="16800" data-krw1="8400" data-ntd="400">
                    <div class="item-icon">🎫</div>
                    <div class="item-info">
                        <div class="item-name">관광/입장료</div>
                        <div class="item-note">영사관 등</div>
                    </div>
                    <div class="item-amount">
                        <div class="item-krw">₩16,800</div>
                        <div class="item-ntd">NT$400</div>
                    </div>
                </div>
                <div class="budget-item" data-krw2="126000" data-krw1="63000" data-ntd="3000">
                    <div class="item-icon">🛍️</div>
                    <div class="item-info">
                        <div class="item-name">쇼핑/기념품</div>
                        <div class="item-note">펑리수, 기념품 등</div>
                    </div>
                    <div class="item-amount">
                        <div class="item-krw">₩126,000</div>
                        <div class="item-ntd">NT$3,000</div>
                    </div>
                </div>
                <div class="budget-item" data-krw2="42000" data-krw1="21000" data-ntd="1000">
                    <div class="item-icon">💵</div>
                    <div class="item-info">
                        <div class="item-name">예비비</div>
                        <div class="item-note">여유자금</div>
                    </div>
                    <div class="item-amount">
                        <div class="item-krw">₩42,000</div>
                        <div class="item-ntd">NT$1,000</div>
                    </div>
                </div>
            </div>
        </div>
        </div><!-- End page-budget -->

        <!-- Checklist Page -->
        <div class="page" id="page-checklist">
            <div class="page-title"><h3>✅ 준비물 체크</h3></div>
        <!-- Packing List -->
        <div class="packing-section" id="packing-section">
            <h2><i class="fas fa-suitcase" style="color: #667eea;"></i> 준비물 체크리스트</h2>
            <div class="packing-grid">
                <div class="packing-category">
                    <h4>📄 필수 서류</h4>
                    <ul>
                        <li data-item="passport"><input type="checkbox" id="passport"><label for="passport">여권 (유효기간 6개월+)</label></li>
                        <li data-item="ticket"><input type="checkbox" id="ticket"><label for="ticket">항공권 (E-ticket)</label></li>
                        <li data-item="hotel"><input type="checkbox" id="hotel"><label for="hotel">호텔 예약 확인서</label></li>
                        <li data-item="insurance"><input type="checkbox" id="insurance"><label for="insurance">여행자 보험</label></li>
                    </ul>
                </div>
                <div class="packing-category">
                    <h4>👕 의류</h4>
                    <ul>
                        <li data-item="clothes"><input type="checkbox" id="clothes"><label for="clothes">반팔/얇은 긴팔 (23-28°C)</label></li>
                        <li data-item="jacket"><input type="checkbox" id="jacket"><label for="jacket">얇은 겉옷 (냉방 대비)</label></li>
                        <li data-item="shoes"><input type="checkbox" id="shoes"><label for="shoes">편한 운동화</label></li>
                        <li data-item="sunglasses"><input type="checkbox" id="sunglasses"><label for="sunglasses">선글라스, 모자</label></li>
                    </ul>
                </div>
                <div class="packing-category">
                    <h4>💳 금융</h4>
                    <ul>
                        <li data-item="card"><input type="checkbox" id="card"><label for="card">신용카드 (VISA/Master)</label></li>
                        <li data-item="cash"><input type="checkbox" id="cash"><label for="cash">현금 (NT$ 환전)</label></li>
                        <li data-item="travelwallet"><input type="checkbox" id="travelwallet"><label for="travelwallet">트래블월렛/위비</label></li>
                    </ul>
                </div>
                <div class="packing-category">
                    <h4>📱 기타</h4>
                    <ul>
                        <li data-item="charger"><input type="checkbox" id="charger"><label for="charger">휴대폰 충전기</label></li>
                        <li data-item="battery"><input type="checkbox" id="battery"><label for="battery">보조배터리</label></li>
                        <li data-item="umbrella"><input type="checkbox" id="umbrella"><label for="umbrella">우산 (스콜 대비)</label></li>
                        <li data-item="medicine"><input type="checkbox" id="medicine"><label for="medicine">상비약</label></li>
                    </ul>
                </div>
            </div>
        </div>
        </div><!-- End page-checklist -->
    </div>

    <!-- Bottom Navigation (Mobile Only) -->
    <nav class="bottom-nav">
        <div class="nav-items">
            <button class="nav-item active" data-page="home">
                <span class="nav-icon">🏠</span>
                <span>홈</span>
            </button>
            <button class="nav-item" data-page="schedule">
                <span class="nav-icon">📅</span>
                <span>일정</span>
            </button>
            <button class="nav-item" data-page="food">
                <span class="nav-icon">🍜</span>
                <span>맛집</span>
            </button>
            <button class="nav-item" data-page="budget">
                <span class="nav-icon">💰</span>
                <span>예산</span>
            </button>
            <button class="nav-item" data-page="checklist">
                <span class="nav-icon">✅</span>
                <span>체크</span>
            </button>
        </div>
    </nav>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Initialize Map
        const map = L.map('map').setView([22.6273, 120.3014], 12);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        // Location Data
        const locations = {
            airport: [
                { name: "高雄國際機場 (가오슝 국제공항)", lat: 22.5726, lng: 120.3390, desc: "✈️ TW651/TW652 도착·출발" },
            ],
            attractions: [
                { name: "蓮池潭 (연지담)", lat: 22.6469, lng: 120.2928, desc: "용호탑, 춘추각, 호수 산책" },
                { name: "旗津島 (치진섬)", lat: 22.6120, lng: 120.2630, desc: "등대, 해변, 해산물" },
                { name: "西子灣 (시즈완)", lat: 22.6245, lng: 120.2656, desc: "영국 영사관, 석양 명소" },
                { name: "駁二藝術特區 (보얼예술특구)", lat: 22.6120, lng: 120.2860, desc: "예술 단지, 벽화 거리" },
                { name: "三鳳宮 (삼봉궁)", lat: 22.6550, lng: 120.3010, desc: "대만 최대 사원" },
            ],
            food: [
                { name: "興隆居 (싱롱쥐)", lat: 22.6320, lng: 120.2940, desc: "딤섬, 찐빵" },
                { name: "老江紅茶牛奶", lat: 22.6145, lng: 120.2986, desc: "밀크티 원조" },
                { name: "楊寶寶蒸餃", lat: 22.6352, lng: 120.2865, desc: "찐만두 맛집" },
                { name: "鴨肉珍", lat: 22.6200, lng: 120.2850, desc: "오리국수" },
            ],
            night: [
                { name: "六合夜市", lat: 22.6108, lng: 120.2983, desc: "관광객 야시장" },
                { name: "瑞豐夜市", lat: 22.6700, lng: 120.2860, desc: "현지인 야시장" },
                { name: "美麗島站 (메이리다오)", lat: 22.6273, lng: 120.3014, desc: "세계 최고 아름다운 역" },
            ]
        };

        // Custom Icon Function
        function createIcon(type) {
            const colors = {
                airport: '#10b981',
                attraction: '#667eea',
                food: '#f59e0b',
                night: '#ec4899'
            };

            const icons = {
                airport: '✈️',
                attraction: '📍',
                food: '🍜',
                night: '🌙'
            };

            const size = type === 'airport' ? 36 : 28;

            return L.divIcon({
                className: 'custom-div-icon',
                html: `<div style="background: ${colors[type]}; color: white; border-radius: 50%; width: ${size}px; height: ${size}px; display: flex; align-items: center; justify-content: center; font-size: ${type === 'airport' ? '16px' : '12px'}; border: 3px solid white; box-shadow: 0 2px 10px rgba(0,0,0,0.3);">
                    ${icons[type]}
                </div>`,
                iconSize: [size, size],
                iconAnchor: [size/2, size/2]
            });
        }

        // Add Markers
        const markers = [];

        // Airport marker (special)
        locations.airport.forEach(loc => {
            const marker = L.marker([loc.lat, loc.lng], { icon: createIcon('airport') })
                .addTo(map)
                .bindPopup(`<div class="popup-content" style="text-align:center;"><h3 style="color:#10b981;">${loc.name}</h3><p>${loc.desc}</p></div>`);
            markers.push({ marker, ...loc });
        });

        locations.attractions.forEach(loc => {
            const marker = L.marker([loc.lat, loc.lng], { icon: createIcon('attraction') })
                .addTo(map)
                .bindPopup(`<div class="popup-content"><h3>${loc.name}</h3><p>${loc.desc}</p></div>`);
            markers.push({ marker, ...loc });
        });

        locations.food.forEach(loc => {
            const marker = L.marker([loc.lat, loc.lng], { icon: createIcon('food') })
                .addTo(map)
                .bindPopup(`<div class="popup-content food"><h3>${loc.name}</h3><p>${loc.desc}</p></div>`);
            markers.push({ marker, ...loc });
        });

        locations.night.forEach(loc => {
            const marker = L.marker([loc.lat, loc.lng], { icon: createIcon('night') })
                .addTo(map)
                .bindPopup(`<div class="popup-content"><h3>${loc.name}</h3><p>${loc.desc}</p></div>`);
            markers.push({ marker, ...loc });
        });

        // Day Tab Switching
        document.querySelectorAll('.day-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active from all tabs
                document.querySelectorAll('.day-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.day-content').forEach(c => c.classList.remove('active'));

                // Add active to clicked tab
                tab.classList.add('active');
                const day = tab.dataset.day;
                document.querySelector(`.day-content[data-day="${day}"]`).classList.add('active');
            });
        });

        // Timeline Item Click - Pan to Location
        document.querySelectorAll('.timeline-item').forEach(item => {
            item.addEventListener('click', () => {
                const lat = parseFloat(item.dataset.lat);
                const lng = parseFloat(item.dataset.lng);
                if (lat && lng) {
                    map.setView([lat, lng], 15);

                    // Find and open corresponding marker popup
                    markers.forEach(m => {
                        if (Math.abs(m.lat - lat) < 0.001 && Math.abs(m.lng - lng) < 0.001) {
                            m.marker.openPopup();
                        }
                    });
                }
            });
        });

        // Packing Checklist - Load & Save to localStorage
        const STORAGE_KEY = 'kaohsiung_packing_checklist';

        // Load saved state
        function loadChecklistState() {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) {
                const checkedItems = JSON.parse(saved);
                checkedItems.forEach(itemId => {
                    const checkbox = document.getElementById(itemId);
                    if (checkbox) {
                        checkbox.checked = true;
                        checkbox.closest('li').classList.add('checked');
                    }
                });
            }
        }

        // Save state
        function saveChecklistState() {
            const checkedItems = [];
            document.querySelectorAll('.packing-category input[type="checkbox"]:checked').forEach(cb => {
                checkedItems.push(cb.id);
            });
            localStorage.setItem(STORAGE_KEY, JSON.stringify(checkedItems));
        }

        // Add event listeners to all checkboxes
        document.querySelectorAll('.packing-category input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', (e) => {
                const li = e.target.closest('li');
                if (e.target.checked) {
                    li.classList.add('checked');
                } else {
                    li.classList.remove('checked');
                }
                saveChecklistState();
            });
        });

        // Load state on page load
        loadChecklistState();

        // ====================
        // Mobile Page Navigation
        // ====================
        const isMobile = () => window.innerWidth <= 768;

        function switchPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(p => {
                p.classList.remove('active');
            });

            // Show selected page
            const targetPage = document.getElementById('page-' + pageId);
            if (targetPage) {
                targetPage.classList.add('active');
            }

            // Update nav items
            document.querySelectorAll('.nav-item').forEach(n => {
                n.classList.remove('active');
            });
            const activeNav = document.querySelector(`.nav-item[data-page="${pageId}"]`);
            if (activeNav) {
                activeNav.classList.add('active');
            }

            // Scroll to top
            window.scrollTo(0, 0);

            // Reinitialize map if switching to schedule page
            if (pageId === 'schedule') {
                setTimeout(() => {
                    map.invalidateSize();
                }, 100);
            }
        }

        // Nav item click handlers
        document.querySelectorAll('.nav-item').forEach(navItem => {
            navItem.addEventListener('click', () => {
                const pageId = navItem.dataset.page;
                switchPage(pageId);
            });
        });

        // Initialize: show first page on mobile
        function initMobilePages() {
            if (isMobile()) {
                document.querySelectorAll('.page').forEach((p, i) => {
                    if (i === 0) {
                        p.classList.add('active');
                    } else {
                        p.classList.remove('active');
                    }
                });
            } else {
                // On desktop, show all pages
                document.querySelectorAll('.page').forEach(p => {
                    p.classList.add('active');
                });
            }
        }

        // Handle resize
        window.addEventListener('resize', () => {
            initMobilePages();
            map.invalidateSize();
        });

        // Initialize on load
        initMobilePages();

        // ====================
        // Budget Toggle (1인/2인)
        // ====================
        const budgetData = {
            2: { total: 1447000, label: '2인 총 예상 비용' },
            1: { total: 723500, label: '1인 예상 비용' }
        };

        document.querySelectorAll('.budget-toggle button').forEach(btn => {
            btn.addEventListener('click', () => {
                const travelers = parseInt(btn.dataset.travelers);

                // Update toggle buttons
                document.querySelectorAll('.budget-toggle button').forEach(b => {
                    b.classList.remove('active');
                });
                btn.classList.add('active');

                // Update total
                const data = budgetData[travelers];
                document.getElementById('total-amount').textContent = '₩' + data.total.toLocaleString();
                document.getElementById('total-label').textContent = data.label;

                // Update each item
                document.querySelectorAll('.budget-item').forEach(item => {
                    const krw = parseInt(item.dataset['krw' + travelers]);
                    if (krw) {
                        item.querySelector('.item-krw').textContent = '₩' + krw.toLocaleString();
                    }
                });
            });
        });
    </script>
</body>
</html>
